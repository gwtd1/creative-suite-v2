<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Campaign Detail View - Creative Studio Projects</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Figtree:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Campaign Detail View Specific Styles */
        .campaign-detail-view {
            display: flex;
            height: 100vh;
        }

        /* AI Chat Panel */
        .ai-chat-panel {
            width: 380px;
            background: var(--card-bg);
            border-right: var(--border);
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .chat-header {
            padding: var(--space-lg);
            border-bottom: var(--border);
            background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-purple) 100%);
            color: var(--white);
        }

        .chat-header h3 {
            font-size: var(--font-lg);
            font-weight: 600;
            margin-bottom: var(--space-xxs);
            display: flex;
            align-items: center;
            gap: var(--space-xs);
        }

        .chat-header h3::before {
            content: '‚ú®';
        }

        .chat-header p {
            font-size: var(--font-xs);
            opacity: 0.9;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: var(--space-lg);
            display: flex;
            flex-direction: column;
            gap: var(--space-md);
        }

        .chat-message {
            display: flex;
            flex-direction: column;
            gap: var(--space-xs);
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .chat-message.ai {
            align-items: flex-start;
        }

        .chat-message.user {
            align-items: flex-end;
        }

        .message-bubble {
            max-width: 85%;
            padding: var(--space-sm) var(--space-md);
            border-radius: var(--radius-md);
            font-size: var(--font-base);
            line-height: 1.5;
        }

        .chat-message.ai .message-bubble {
            background: var(--gray-100);
            color: var(--text-primary);
            border-bottom-left-radius: var(--radius-sm);
        }

        .chat-message.user .message-bubble {
            background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-purple) 100%);
            color: var(--white);
            border-bottom-right-radius: var(--radius-sm);
        }

        .message-time {
            font-size: var(--font-xs);
            color: var(--text-muted);
            padding: 0 var(--space-xs);
        }

        .chat-suggestions {
            padding: var(--space-sm) var(--space-lg);
            border-top: var(--border);
            background: var(--primary-bg);
        }

        .suggestion-chips {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-xs);
        }

        .suggestion-chip {
            padding: 6px var(--space-sm);
            background: var(--card-bg);
            border: var(--border);
            border-radius: var(--radius-full);
            font-size: var(--font-xs);
            cursor: pointer;
            transition: var(--transition-fast);
        }

        .suggestion-chip:hover {
            border-color: var(--accent-primary);
            background: rgba(25, 87, 219, 0.05);
            color: var(--accent-primary);
        }

        .chat-input-area {
            padding: var(--space-md) var(--space-lg);
            border-top: var(--border);
            background: var(--card-bg);
        }

        .chat-input-wrapper {
            display: flex;
            gap: var(--space-xs);
            align-items: flex-end;
            background: var(--gray-100);
            border-radius: var(--radius-full);
            padding: var(--space-xs) var(--space-sm);
        }

        .chat-input {
            flex: 1;
            border: none;
            background: transparent;
            font-size: var(--font-base);
            resize: none;
            outline: none;
            font-family: var(--font-family);
            max-height: 120px;
            min-height: 24px;
        }

        .chat-send-btn {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-purple) 100%);
            border: none;
            border-radius: 50%;
            color: var(--white);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: transform var(--transition-fast);
        }

        .chat-send-btn:hover {
            transform: scale(1.1);
        }

        .chat-send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .typing-indicator {
            display: flex;
            gap: var(--space-xxs);
            padding: var(--space-sm) var(--space-md);
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: var(--text-muted);
            border-radius: 50%;
            animation: typingBounce 1.4s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typingBounce {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }

        .campaign-detail-content {
            flex: 1;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        .back-btn {
            background: var(--gray-100);
            border: none;
            padding: var(--space-xs) var(--space-md);
            border-radius: var(--radius-lg);
            font-size: var(--font-base);
            cursor: pointer;
            color: var(--text-primary);
            font-weight: 500;
            transition: var(--transition-fast);
        }

        .back-btn:hover {
            background: var(--gray-200);
        }

        .campaign-page-header {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-lg) var(--space-xl);
            background: var(--card-bg);
            border-bottom: var(--border);
        }

        .campaign-page-header h1 {
            font-size: var(--h2);
            font-weight: 600;
        }

        .tab-navigation {
            display: flex;
            gap: var(--space-xl);
            padding: 0 var(--space-xl);
            background: var(--card-bg);
            border-bottom: 2px solid var(--border-color);
        }

        .tab-item {
            padding: var(--space-md) 0;
            font-size: var(--font-base);
            font-weight: 500;
            color: var(--text-secondary);
            cursor: pointer;
            border-bottom: 3px solid transparent;
            margin-bottom: -2px;
            transition: var(--transition-fast);
        }

        .tab-item:hover {
            color: var(--text-primary);
        }

        .tab-item.active {
            color: var(--accent-primary);
            border-bottom-color: var(--accent-primary);
        }

        .campaign-content {
            padding: var(--space-xl);
            max-width: 1400px;
            margin: 0 auto;
        }

        .objective-section,
        .target-audience-section,
        .asset-section {
            background: var(--card-bg);
            padding: var(--space-xl);
            border-radius: var(--radius-xl);
            border: var(--border);
            margin-bottom: var(--space-xl);
        }

        .objective-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-lg);
        }

        .objective-header h2,
        .target-audience-section h2,
        .asset-section h2 {
            font-size: var(--h3);
            font-weight: var(--h3-weight);
        }

        .refine-ai-btn {
            background: var(--card-bg);
            border: var(--border);
            padding: var(--space-xs) var(--space-md);
            border-radius: var(--radius-lg);
            font-size: var(--font-sm);
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: var(--transition-fast);
        }

        .refine-ai-btn:hover {
            border-color: var(--accent-primary);
            color: var(--accent-primary);
        }

        .refine-ai-btn::before {
            content: '‚ú®';
        }

        .objective-text {
            font-size: var(--font-base);
            line-height: 1.6;
            color: var(--text-primary);
            margin-bottom: var(--space-md);
        }

        .launch-date {
            font-size: var(--font-base);
            color: var(--text-primary);
            font-weight: 600;
        }

        .reasoning-toggle {
            display: flex;
            align-items: center;
            gap: var(--space-xs);
            font-size: var(--font-sm);
            color: var(--text-secondary);
            cursor: pointer;
            margin-top: var(--space-md);
            padding: var(--space-xs) 0;
            transition: var(--transition-fast);
        }

        .reasoning-toggle:hover {
            color: var(--accent-primary);
        }

        .reasoning-toggle::before {
            content: 'üí°';
        }

        .reasoning-toggle::after {
            content: '‚Ä∫';
            transition: transform 0.3s;
        }

        .reasoning-toggle.open::after {
            transform: rotate(90deg);
        }

        .audience-filters {
            display: flex;
            gap: var(--space-xs);
            margin-bottom: var(--space-lg);
            flex-wrap: wrap;
        }

        .audience-filter-tag {
            padding: 6px 14px;
            background: var(--gray-100);
            border: var(--border);
            border-radius: var(--radius-full);
            font-size: var(--font-xs);
            color: var(--text-secondary);
            cursor: pointer;
            transition: var(--transition-fast);
        }

        .audience-filter-tag:hover {
            background: var(--gray-200);
        }

        .persona-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
            gap: var(--space-lg);
        }

        .persona-card {
            background: var(--primary-bg);
            padding: var(--space-lg);
            border-radius: var(--radius-xl);
            border: var(--border);
            position: relative;
        }

        .persona-card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: var(--space-sm);
        }

        .persona-name {
            font-size: var(--font-lg);
            font-weight: 600;
            color: var(--text-primary);
        }

        .persona-menu {
            cursor: pointer;
            color: var(--text-muted);
        }

        .persona-attributes {
            font-size: var(--font-sm);
            color: var(--text-secondary);
            line-height: 1.8;
        }

        .persona-attributes li {
            margin-bottom: var(--space-xxs);
        }

        .confidence-metric {
            display: inline-flex;
            align-items: center;
            gap: var(--space-xs);
            padding: var(--space-xxs) 10px;
            background: var(--warning-bg);
            border-radius: var(--radius-md);
            font-size: var(--font-xs);
            font-weight: 600;
            color: var(--warning-color);
        }

        .conversion-metric {
            display: inline-flex;
            align-items: center;
            gap: var(--space-xs);
            padding: var(--space-xxs) 10px;
            background: var(--success-bg);
            border-radius: var(--radius-md);
            font-size: var(--font-xs);
            font-weight: 600;
            color: var(--success-color);
        }

        .create-ideas-btn {
            background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-purple) 100%);
            color: var(--white);
            border: none;
            padding: 14px 28px;
            border-radius: var(--radius-xl);
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: var(--space-xs);
            margin-bottom: var(--space-xl);
            transition: var(--transition-fast);
        }

        .create-ideas-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .create-ideas-btn::before {
            content: '‚ú®';
        }

        .ideas-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
            gap: var(--space-lg);
            margin-bottom: var(--space-xl);
        }

        .idea-tile {
            background: var(--card-bg);
            border-radius: var(--radius-xl);
            overflow: hidden;
            border: 2px solid var(--border-color);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
        }

        .idea-tile:hover {
            border-color: var(--accent-primary);
            box-shadow: var(--shadow-lg);
            transform: translateY(-4px);
        }

        .idea-tile-image {
            width: 100%;
            height: 220px;
            background: linear-gradient(135deg, var(--gray-100) 0%, var(--gray-300) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 64px;
        }

        .idea-tile-content {
            padding: var(--space-lg);
        }

        .idea-tile-title {
            font-size: var(--h3);
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--space-xs);
        }

        .idea-status-tags {
            display: flex;
            gap: 6px;
            flex-wrap: wrap;
            margin-bottom: var(--space-sm);
        }

        .idea-status-tag {
            padding: var(--space-xxs) 10px;
            border-radius: var(--radius-xl);
            font-size: 11px;
            font-weight: 600;
            letter-spacing: 0.3px;
        }

        .idea-status-tag.ai-generated {
            background: linear-gradient(135deg, #e8eaf6 0%, #f3e5f5 100%);
            color: var(--accent-primary);
        }

        .idea-status-tag.approved {
            background: var(--success-bg);
            color: var(--success-color);
        }

        .idea-audience {
            font-size: var(--font-sm);
            color: var(--accent-primary);
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .idea-audience::before {
            content: 'üë•';
        }

        .idea-description {
            font-size: var(--font-base);
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: var(--space-md);
        }

        .brainstorm-btn {
            width: 100%;
            background: var(--gray-100);
            border: 2px solid var(--border-color);
            padding: var(--space-sm);
            border-radius: var(--radius-lg);
            font-size: var(--font-base);
            font-weight: 600;
            color: var(--accent-primary);
            cursor: pointer;
            transition: var(--transition-fast);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-xs);
        }

        .brainstorm-btn:hover {
            background: var(--accent-primary);
            color: var(--white);
            border-color: var(--accent-primary);
        }

        .channel-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: var(--space-md);
        }

        .channel-table th {
            text-align: left;
            padding: var(--space-sm) var(--space-md);
            background: var(--primary-bg);
            border-bottom: 2px solid var(--border-color);
            font-size: var(--font-sm);
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .channel-table td {
            padding: var(--space-md);
            border-bottom: var(--border);
            font-size: var(--font-base);
            color: var(--text-primary);
        }

        .channel-table tr:last-child td {
            border-bottom: none;
        }

        .channel-table tr:hover {
            background: var(--primary-bg);
        }

        .channel-name {
            font-weight: 600;
            color: var(--accent-primary);
        }
    </style>
</head>
<body>
    <!-- Campaign Detail View -->
    <section class="campaign-detail-view" id="campaignDetail">
        <!-- AI Chat Panel -->
        <div class="ai-chat-panel">
            <div class="chat-header">
                <h3>AI Assistant</h3>
                <p>Ask me anything about your campaign</p>
            </div>

            <div class="chat-messages" id="chatMessages">
                <!-- Welcome Message -->
                <div class="chat-message ai">
                    <div class="message-bubble">
                        Hi! I'm your AI creative assistant. I can help you with:
                        <ul style="margin: 8px 0 0 20px; line-height: 1.8;">
                            <li>Refining your campaign objectives</li>
                            <li>Generating creative ideas</li>
                            <li>Finding relevant assets</li>
                            <li>Writing ad copy</li>
                        </ul>
                        How can I help you today?
                    </div>
                    <span class="message-time">Just now</span>
                </div>
            </div>

            <div class="chat-suggestions">
                <div class="suggestion-chips">
                    <div class="suggestion-chip" onclick="sendSuggestion('Suggest target audiences')">Suggest target audiences</div>
                    <div class="suggestion-chip" onclick="sendSuggestion('Generate campaign ideas')">Generate campaign ideas</div>
                    <div class="suggestion-chip" onclick="sendSuggestion('Find similar assets')">Find similar assets</div>
                    <div class="suggestion-chip" onclick="sendSuggestion('Improve this brief')">Improve this brief</div>
                </div>
            </div>

            <div class="chat-input-area">
                <div class="chat-input-wrapper">
                    <textarea
                        class="chat-input"
                        id="chatInput"
                        placeholder="Ask me anything..."
                        rows="1"
                        onkeydown="handleChatKeydown(event)"
                    ></textarea>
                    <button class="chat-send-btn" onclick="sendChatMessage()">
                        ‚û§
                    </button>
                </div>
            </div>
        </div>

        <!-- Campaign Detail Content -->
        <div class="campaign-detail-content">
            <!-- Header with Back Button and Title -->
            <div class="campaign-page-header">
                <button class="back-btn" onclick="window.history.back()">‚Üê</button>
                <h1>Fall Athleisure Collection</h1>
            </div>

            <!-- Tab Navigation -->
            <div class="tab-navigation">
                <div class="tab-item active" id="briefTab" onclick="switchTab('brief')">Creative Brief</div>
                <div class="tab-item" id="ideationTab" onclick="switchTab('ideation')">Ideation Board</div>
                <div class="tab-item" id="assetsTab" onclick="switchTab('assets')">Core Assets</div>
                <div class="tab-item" id="remixTab" onclick="switchTab('remix')">Remix</div>
            </div>

            <!-- Creative Brief Tab Content -->
            <div class="campaign-content" id="briefContent">
                <!-- Objective Section -->
                <div class="objective-section">
                    <div class="objective-header">
                        <h2>Objective</h2>
                        <button class="refine-ai-btn">Refine with AI</button>
                    </div>
                    <p class="objective-text">
                        Drive awareness and sales of the new Fall 2025 premium athleisure collection, targeting women 25-40, with the dual goal of boosting online purchases and increasing in-store visits for try-on experiences.
                    </p>
                    <p class="launch-date">Launch Date: October 27, 2025 (T-60 days)</p>
                    <div class="reasoning-toggle">Reasoning</div>
                </div>

                <!-- Target Audience Section -->
                <div class="target-audience-section">
                    <h2>Target Audience</h2>

                    <div class="audience-filters">
                        <span class="audience-filter-tag">Sophisticated</span>
                        <span class="audience-filter-tag">Modern</span>
                        <span class="audience-filter-tag">Aspirational</span>
                        <span class="audience-filter-tag">Lifestyle-Driven Imagery</span>
                    </div>

                    <div class="persona-cards">
                        <!-- Persona Card 1 -->
                        <div class="persona-card">
                            <div class="persona-card-header">
                                <div class="persona-name">Hybrid Worker</div>
                                <div class="persona-menu">‚ãØ</div>
                            </div>
                            <div class="persona-attributes">
                                <strong>Attributes:</strong>
                                <ul style="margin: 8px 0 0 20px;">
                                    <li>Gender: Female, Male</li>
                                    <li>Age: 30-40 year old</li>
                                    <li>Interests: Work-life balance, Productivity hacks, coffee culture, fitness, sustainability, sustainable fashion, comfort-clothing..</li>
                                </ul>
                            </div>
                        </div>

                        <!-- Persona Card 2 -->
                        <div class="persona-card">
                            <div class="persona-card-header">
                                <div class="persona-name">The Performance Athlete</div>
                                <div class="persona-menu">‚ãØ</div>
                            </div>
                            <div class="persona-attributes">
                                <strong>Attributes:</strong>
                                <ul style="margin: 8px 0 0 20px;">
                                    <li>Gender: Female, Male</li>
                                    <li>Age: 20-40 year old</li>
                                    <li>Interests: Work-life balance, fitness, sustainability, sustainable fashion, health hack, workouts, comfort-clothing..</li>
                                </ul>
                            </div>
                        </div>

                        <!-- Persona Card 3 -->
                        <div class="persona-card">
                            <div class="persona-card-header">
                                <div class="persona-name">The Fashion Influencer</div>
                                <div class="persona-menu">‚ãØ</div>
                            </div>
                            <div class="persona-attributes">
                                <strong>Attributes:</strong>
                                <ul style="margin: 8px 0 0 20px;">
                                    <li>Gender: Female</li>
                                    <li>Age: 30-40 year old</li>
                                    <li>Interests: Nature, Sustainability, Sustainable Fashion, Coffee-culture, comfort-clothing..</li>
                                </ul>
                            </div>
                        </div>

                        <!-- Persona Card 4 -->
                        <div class="persona-card">
                            <div class="persona-card-header">
                                <div class="persona-name">The Wellness Seeker</div>
                                <div class="persona-menu">‚ãØ</div>
                            </div>
                            <div class="persona-attributes">
                                <strong>Attributes:</strong>
                                <ul style="margin: 8px 0 0 20px;">
                                    <li>Gender: Female</li>
                                    <li>Age: 30-40 year old</li>
                                    <li>Interests: Work-life balance, vacation, vacation-vibes, leisure, sustainability, sustainable fashion, comfort-clothing.</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="reasoning-toggle" style="margin-top: 24px;">
                        Reasoning
                        <div style="margin-left: auto; display: flex; gap: 12px;">
                            <span class="conversion-metric">+31% Conversion</span>
                            <span class="confidence-metric">Medium Confidence</span>
                        </div>
                    </div>
                </div>

                <!-- Asset Section -->
                <div class="asset-section">
                    <h2>Asset</h2>
                    <table class="channel-table">
                        <thead>
                            <tr>
                                <th>Channel Name</th>
                                <th>Content Focus</th>
                                <th>Asset Type</th>
                                <th>General Size/Ratio</th>
                                <th>Key Deliverable Type(s)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="channel-name">Instagram</span></td>
                                <td>Aesthetic Lifestyle & Quick Engagement. Focus on inspiring users and interrupting the scroll with dynamic, high-quality content.</td>
                                <td>Static Image</td>
                                <td>1:1 or 4:5</td>
                                <td>Feed Posts, Carousel Ads, Explore Page Ads.</td>
                            </tr>
                            <tr>
                                <td><span class="channel-name">Instagram</span></td>
                                <td>Entertainment & Dynamic Storytelling. Users expect fast-paced, music-driven, relatable video content.</td>
                                <td>Vertical Video</td>
                                <td>9:16</td>
                                <td>Reels, Stories, Video Ads.</td>
                            </tr>
                            <tr>
                                <td><span class="channel-name">Pinterest</span></td>
                                <td>Aspirational & Utility-Focused. Focus on content that users will save, plan around, and use for styling inspiration.</td>
                                <td>Standard Pin</td>
                                <td>2:3</td>
                                <td>Standard Product Pins, Promoted Pins.</td>
                            </tr>
                            <tr>
                                <td><span class="channel-name">Pinterest</span></td>
                                <td>Discovery & Deep Engagement. Multi-page content designed to guide users through a narrative or styling guide.</td>
                                <td>Idea Pin</td>
                                <td>9:16 (Full Screen)</td>
                                <td>Styling Guides, Seasonal Lookbooks, Outfit Ideas.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Ideation Board Tab Content -->
            <div class="campaign-content" id="ideationContent" style="display: none;">
                <div style="margin-bottom: 32px;">
                    <h2 style="font-size: 24px; font-weight: 600; margin-bottom: 8px;">Creative Ideation</h2>
                    <p style="color: #6e6e73; font-size: 14px;">AI-powered campaign ideas based on your brief</p>
                </div>

                <button class="create-ideas-btn" onclick="generateIdeas()">Create Ideas</button>

                <div class="ideas-grid" id="ideasGrid">
                    <!-- Ideas will be generated here -->
                </div>
            </div>

            <!-- Core Assets Tab Content -->
            <div class="campaign-content" id="assetsContent" style="display: none;">
                <div style="text-align: center; padding: 60px 24px; color: #8e8e93;">
                    <p>Core Assets view coming soon...</p>
                </div>
            </div>

            <!-- Remix Tab Content -->
            <div class="campaign-content" id="remixContent" style="display: none;">
                <div style="text-align: center; padding: 60px 24px; color: #8e8e93;">
                    <p>Remix view coming soon...</p>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Tab switching function
        function switchTab(tabName) {
            // Hide all content tabs
            document.getElementById('briefContent').style.display = 'none';
            document.getElementById('ideationContent').style.display = 'none';
            document.getElementById('assetsContent').style.display = 'none';
            document.getElementById('remixContent').style.display = 'none';

            // Remove active class from all tabs
            document.getElementById('briefTab').classList.remove('active');
            document.getElementById('ideationTab').classList.remove('active');
            document.getElementById('assetsTab').classList.remove('active');
            document.getElementById('remixTab').classList.remove('active');

            // Show selected content and activate tab
            if (tabName === 'brief') {
                document.getElementById('briefContent').style.display = 'block';
                document.getElementById('briefTab').classList.add('active');
            } else if (tabName === 'ideation') {
                document.getElementById('ideationContent').style.display = 'block';
                document.getElementById('ideationTab').classList.add('active');
            } else if (tabName === 'assets') {
                document.getElementById('assetsContent').style.display = 'block';
                document.getElementById('assetsTab').classList.add('active');
            } else if (tabName === 'remix') {
                document.getElementById('remixContent').style.display = 'block';
                document.getElementById('remixTab').classList.add('active');
            }
        }

        // Global ideas array and counter
        let currentIdeaIndex = 0;
        const allIdeas = [
            {
                title: 'The Cozy Commute',
                audience: 'Hybrid Worker',
                description: 'Showcase the comfort and productivity of modern commuting with sustainable, stylish workwear perfect for the train or coffee shop.',
                status: ['ai-generated', 'approved'],
                emoji: 'üöä'
            },
            {
                title: 'Weekend Wanderlust',
                audience: 'Urban Explorer',
                description: 'Capture the spirit of spontaneous city adventures with versatile pieces that transition from brunch to art gallery seamlessly.',
                status: ['ai-generated'],
                emoji: 'üåÜ'
            },
            {
                title: 'Eco-Conscious Living',
                audience: 'Sustainability Advocate',
                description: 'Highlight the environmental impact of choosing sustainable fashion with powerful before-and-after storytelling.',
                status: ['ai-generated'],
                emoji: 'üå±'
            },
            {
                title: 'Digital Nomad Essentials',
                audience: 'Remote Professional',
                description: 'Feature minimalist, packable fashion that works across time zones and cultures for the modern remote worker.',
                status: ['ai-generated'],
                emoji: 'üíº'
            }
        ];

        function generateIdeas() {
            const grid = document.getElementById('ideasGrid');
            const btn = document.querySelector('.create-ideas-btn');

            if (currentIdeaIndex >= allIdeas.length) {
                // Keep generating - just cycle through ideas with variations
                currentIdeaIndex = 0;
            }

            const idea = allIdeas[currentIdeaIndex];
            const ideaTile = document.createElement('div');
            ideaTile.className = 'idea-tile';
            ideaTile.style.opacity = '0';
            ideaTile.style.transform = 'translateY(20px)';

            ideaTile.innerHTML = `
                <div class="idea-tile-image">${idea.emoji}</div>
                <div class="idea-tile-content">
                    <div class="idea-tile-title">${idea.title}</div>
                    <div class="idea-status-tags">
                        ${idea.status.includes('ai-generated') ? '<span class="idea-status-tag ai-generated">AI Generated</span>' : ''}
                        ${idea.status.includes('approved') ? '<span class="idea-status-tag approved">Approved</span>' : ''}
                    </div>
                    <div class="idea-audience">${idea.audience}</div>
                    <div class="idea-description">${idea.description}</div>
                    <button class="brainstorm-btn" onclick="window.location.href='brainstorm-expanded.html'">
                        üí° Brainstorm
                    </button>
                </div>
            `;

            grid.appendChild(ideaTile);

            // Animate in
            setTimeout(() => {
                ideaTile.style.transition = 'all 0.4s cubic-bezier(0.4, 0, 0.2, 1)';
                ideaTile.style.opacity = '1';
                ideaTile.style.transform = 'translateY(0)';
            }, 100);

            currentIdeaIndex++;
        }

        // AI Chat Functions
        function sendChatMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();

            if (!message) return;

            // Add user message
            addChatMessage(message, 'user');
            input.value = '';

            // Show typing indicator
            showTypingIndicator();

            // Simulate AI response
            setTimeout(() => {
                hideTypingIndicator();
                const responses = [
                    "I've analyzed your campaign brief. Based on your Fall Athleisure Collection targeting women 25-40, I suggest focusing on lifestyle imagery that shows the versatility of the collection - from yoga studios to coffee shops to outdoor activities.",
                    "Great question! For the target audience of hybrid workers and wellness seekers, I recommend emphasizing comfort, sustainability, and style. Would you like me to generate some specific creative concepts?",
                    "I can help with that! Let me pull some high-performing assets from your DAM that align with athleisure and fall themes. Give me a moment...",
                    "Based on similar campaigns in your industry, I'd recommend a multi-channel approach focusing on Instagram and Pinterest for visual appeal. The Fall season is perfect for warm, aspirational imagery.",
                    "I've found 127 relevant assets in your DAM that match this campaign's aesthetic. The top performers show models in natural settings with warm lighting. Would you like to see them?"
                ];
                const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                addChatMessage(randomResponse, 'ai');
            }, 1500);
        }

        function sendSuggestion(text) {
            const input = document.getElementById('chatInput');
            input.value = text;
            sendChatMessage();
        }

        function addChatMessage(text, type) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${type}`;

            const now = new Date();
            const timeString = now.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' });

            messageDiv.innerHTML = `
                <div class="message-bubble">${text}</div>
                <span class="message-time">${timeString}</span>
            `;

            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function showTypingIndicator() {
            const messagesContainer = document.getElementById('chatMessages');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'chat-message ai';
            typingDiv.id = 'typingIndicator';
            typingDiv.innerHTML = `
                <div class="typing-indicator">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
            `;
            messagesContainer.appendChild(typingDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function hideTypingIndicator() {
            const indicator = document.getElementById('typingIndicator');
            if (indicator) {
                indicator.remove();
            }
        }

        function handleChatKeydown(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendChatMessage();
            }
        }
    </script>
</body>
</html>
